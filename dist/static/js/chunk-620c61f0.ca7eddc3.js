(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-620c61f0"],{"3ffb":function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[n("el-breadcrumb-item",{attrs:{to:{path:"/home/index"}}},[e._v(" 首页 ")]),n("el-breadcrumb-item",[e._v(" 商品管理")]),n("el-breadcrumb-item",[e._v(" 商品列表")])],1),n("el-card",{staticClass:"box-card"},[n("el-row",[n("div",{staticClass:"el-col el-col-8"},[n("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入内容",clearable:""},on:{clear:e.getlist},model:{value:e.list.query,callback:function(t){e.$set(e.list,"query",t)},expression:"list.query"}},[n("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.getlist},slot:"append"})],1)],1),n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.$router.push("/home/add")}}},[e._v("添加")])],1),n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.goods,border:"",stripe:""}},[n("el-table-column",{attrs:{type:"index",label:"#"}}),n("el-table-column",{attrs:{prop:"goods_name",label:"商品名称",width:"600"}}),n("el-table-column",{attrs:{prop:"goods_price",label:"商品价格(元)"}}),n("el-table-column",{attrs:{prop:"goods_weight",label:"商品重量"}}),n("el-table-column",{attrs:{label:"创建时间",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(e._f("time")(t.row.add_time)))])]}}])}),n("el-table-column",{attrs:{prop:"address",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(n){return e.update(t.row.goods_id)}}}),n("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(n){return e.del(t.row.goods_id)}}})]}}])})],1),n("el-pagination",{attrs:{background:"","page-sizes":[5,10,15,20],"page-size":e.list.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),n("el-dialog",{attrs:{title:"修改",visible:e.dialogFormVisible,"label-position":"right"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[n("el-form",{staticClass:"demo-ruleForm",attrs:{model:e.form,"label-width":"100px"}},[n("el-form-item",{attrs:{label:"商品名称"}},[n("el-input",{model:{value:e.form.goods_name,callback:function(t){e.$set(e.form,"goods_name",t)},expression:"form.goods_name"}})],1),n("el-form-item",{attrs:{label:"商品数量"}},[n("el-input",{model:{value:e.form.goods_number,callback:function(t){e.$set(e.form,"goods_number",t)},expression:"form.goods_number"}})],1),n("el-form-item",{attrs:{label:"商品价格"}},[n("el-input",{model:{value:e.form.goods_price,callback:function(t){e.$set(e.form,"goods_price",t)},expression:"form.goods_price"}})],1),n("el-form-item",{attrs:{label:"商品重量"}},[n("el-input",{model:{value:e.form.goods_weight,callback:function(t){e.$set(e.form,"goods_weight",t)},expression:"form.goods_weight"}})],1)],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.addupdate}},[e._v("确 定")])],1)],1)],1)},r=[],a=(n("96cf"),n("1da1")),s=n("7c15"),i={name:"",data:function(){return{list:{query:"",pagenum:1,pagesize:5},goods:[],total:0,dialogFormVisible:!1,form:{}}},created:function(){},mounted:function(){this.getlist()},methods:{handleSizeChange:function(e){this.list.pagesize=e,this.getlist()},handleCurrentChange:function(e){this.list.pagenum=e,this.getlist()},getlist:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["h"])(e.list);case 2:n=t.sent,o=n.data,e.goods=o.goods,e.total=o.total;case 6:case"end":return t.stop()}}),t)})))()},del:function(e){var t=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){console.log(e),t.delete(e)})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},delete:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var o,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Object(s["d"])(e);case 2:o=n.sent,r=o.data,t.$message({type:"success",message:r.meta.msg}),t.getlist();case 6:case"end":return n.stop()}}),n)})))()},update:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var o,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.dialogFormVisible=!0,n.next=3,Object(s["u"])(e);case 3:o=n.sent,r=o.data,console.log(r),t.form=r;case 7:case"end":return n.stop()}}),n)})))()},addupdate:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.dialogFormVisible=!1,t.next=3,Object(s["w"])(e.form);case 3:n=t.sent,o=n.data,console.log(o),e.$message({type:"success",message:o.meta.msg}),e.getlist();case 8:case"end":return t.stop()}}),t)})))()}},filters:{time:function(e){var t=new Date(e);function n(e){return e<10&&(e="0"+e),e}var o=t.getFullYear(),r=t.getMonth()+1,a=t.getDate(),s=t.getHours(),i=t.getMinutes(),l=t.getSeconds();return o+"-"+n(r)+"-"+n(a)+" "+n(s)+":"+n(i)+":"+n(l)}}},l=i,c=(n("602f"),n("2877")),u=Object(c["a"])(l,o,r,!1,null,"04106df3",null);t["default"]=u.exports},"602f":function(e,t,n){"use strict";var o=n("af54"),r=n.n(o);r.a},af54:function(e,t,n){}}]);